<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ××™×•×Ÿ: ××” × ××¦× ×‘×™×?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(180deg, #87CEEB 0%, #E0F6FF 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        h1 {
            color: #0066CC;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.3em;
        }

        .score {
            font-size: 2em;
            color: #FF6B6B;
            margin-top: 10px;
        }

        .game-area {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .drop-zone {
            background: white;
            border: 5px dashed #ccc;
            border-radius: 20px;
            padding: 20px;
            min-height: 400px;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .drop-zone.sea-zone {
            border-color: #4A90E2;
            background: linear-gradient(135deg, #E3F2FD 0%, #BBDEFB 100%);
        }

        .drop-zone.not-sea-zone {
            border-color: #E74C3C;
            background: linear-gradient(135deg, #FFEBEE 0%, #FFCDD2 100%);
        }

        .drop-zone.drag-over {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
            border-width: 8px;
        }

        .zone-title {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .zone-icon {
            font-size: 4em;
            margin-bottom: 10px;
        }

        .items-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .items-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .item {
            background: linear-gradient(135deg, #FFF9C4 0%, #FFF59D 100%);
            border: 3px solid #FFD54F;
            border-radius: 15px;
            padding: 15px;
            cursor: grab;
            transition: all 0.3s ease;
            text-align: center;
            user-select: none;
        }

        .item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }

        .item.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }

        .item-icon {
            font-size: 3.5em;
            margin-bottom: 5px;
        }

        .item-name {
            font-size: 1.2em;
            font-weight: bold;
            color: #333;
        }

        .dropped-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            width: 100%;
            margin-top: 15px;
        }

        .dropped-item {
            background: rgba(255,255,255,0.9);
            border-radius: 10px;
            padding: 10px;
            text-align: center;
            animation: dropIn 0.5s ease;
        }

        @keyframes dropIn {
            from {
                transform: scale(0.5) rotate(180deg);
                opacity: 0;
            }
            to {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
        }

        .controls {
            text-align: center;
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5em;
            border-radius: 50px;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .btn-reset {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
        }

        .feedback {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            font-size: 3em;
            font-weight: bold;
            z-index: 1000;
            animation: popIn 0.5s ease;
            display: none;
        }

        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0); }
            50% { transform: translate(-50%, -50%) scale(1.2); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        .feedback.correct {
            color: #4CAF50;
        }

        .feedback.incorrect {
            color: #E74C3C;
        }

        .celebration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        @media (max-width: 1200px) {
            .game-area {
                grid-template-columns: 1fr;
            }
            
            .items-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .items-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>ğŸŒŠ ××©×—×§ ××™×•×Ÿ: ××” × ××¦× ×‘×™×? ğŸš</h1>
            <div class="subtitle">×’×¨×¨×• ×›×œ ×¤×¨×™×˜ ×œ××§×•× ×”× ×›×•×Ÿ!</div>
            <div class="score">× ×›×•×Ÿ: <span id="correct">0</span> | ×©×’×•×™: <span id="incorrect">0</span></div>
        </div>

        <!-- Game Area -->
        <div class="game-area">
            <!-- Sea Zone -->
            <div class="drop-zone sea-zone" id="seaZone">
                <div class="zone-icon">âœ…</div>
                <div class="zone-title" style="color: #0066CC;">× ××¦× ×‘×™×</div>
                <div class="dropped-items" id="seaItems"></div>
            </div>

            <!-- Items Container -->
            <div class="items-container">
                <h2 style="text-align: center; color: #666; margin-bottom: 10px;">×’×¨×¨×• ××ª ×”×¤×¨×™×˜×™×</h2>
                <div class="items-grid" id="itemsGrid"></div>
            </div>

            <!-- Not Sea Zone -->
            <div class="drop-zone not-sea-zone" id="notSeaZone">
                <div class="zone-icon">âŒ</div>
                <div class="zone-title" style="color: #E74C3C;">×œ× × ××¦× ×‘×™×</div>
                <div class="dropped-items" id="notSeaItems"></div>
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn" onclick="checkAnswers()">âœ¨ ×‘×“×™×§×ª ×ª×©×•×‘×•×ª</button>
            <button class="btn btn-reset" onclick="resetGame()">ğŸ”„ ××©×—×§ ×—×“×©</button>
        </div>
    </div>

    <!-- Feedback -->
    <div class="feedback" id="feedback"></div>

    <!-- Celebration Canvas -->
    <canvas class="celebration" id="celebrationCanvas"></canvas>

    <script>
        // Game Data
        const items = [
            // In Sea (10 items)
            { id: 1, icon: 'ğŸŸ', name: '×“Ö¸Ö¼×’', inSea: true },
            { id: 2, icon: 'ğŸš', name: '×¦Ö¶×“Ö¶×£', inSea: true },
            { id: 3, icon: 'ğŸ¦€', name: '×¡Ö·×¨Ö°×˜Ö¸×Ÿ', inSea: true },
            { id: 4, icon: 'ğŸ¬', name: '×“Ö¼×•Ö¹×œÖ°×¤Ö´×™×Ÿ', inSea: true },
            { id: 5, icon: 'â­', name: '×›Ö¼×•Ö¹×›Ö·×‘ ×™Ö¸×', inSea: true },
            { id: 6, icon: 'ğŸŒ¿', name: '×Ö·×¦Ö¼×•Ö¹×ª', inSea: true },
            { id: 7, icon: 'â›µ', name: '×¡Ö´×™×¨Ö¸×”', inSea: true },
            { id: 8, icon: 'ğŸ„', name: '×’Ö·Ö¼×œÖ°×©Ö¸××Ÿ', inSea: true },
            { id: 9, icon: 'ğŸ£', name: '×“Ö·Ö¼×™Ö¸Ö¼×’', inSea: true },
            { id: 10, icon: 'ğŸ›Ÿ', name: '×Ö·×¦Ö´Ö¼×™×œÖ¸×”', inSea: true },
            
            // Not in Sea (10 items)
            { id: 11, icon: 'ğŸš—', name: '×Ö°×›×•Ö¹× Ö´×™×ª', inSea: false },
            { id: 12, icon: 'ğŸŒ³', name: '×¢Öµ×¥', inSea: false },
            { id: 13, icon: 'ğŸ•', name: '×›Ö¶Ö¼×œÖ¶×‘', inSea: false },
            { id: 14, icon: 'ğŸˆ', name: '×—Ö¸×ª×•Ö¼×œ', inSea: false },
            { id: 15, icon: 'ğŸ ', name: '×‘Ö·Ö¼×™Ö´×ª', inSea: false },
            { id: 16, icon: 'ğŸš²', name: '××•Ö¹×¤Ö·× Ö·Ö¼×™Ö´×', inSea: false },
            { id: 17, icon: 'ğŸ˜', name: '×¤Ö´Ö¼×™×œ', inSea: false },
            { id: 18, icon: 'ğŸŒ¸', name: '×¤Ö¶Ö¼×¨Ö·×—', inSea: false },
            { id: 19, icon: 'ğŸ“–', name: '×¡Öµ×¤Ö¶×¨', inSea: false },
            { id: 20, icon: 'âœˆï¸', name: '×Ö¸×˜×•Ö¹×¡', inSea: false }
        ];

        let correctCount = 0;
        let incorrectCount = 0;
        let itemPlacements = {};

        // Initialize Game
        function initGame() {
            const itemsGrid = document.getElementById('itemsGrid');
            itemsGrid.innerHTML = '';
            
            // Shuffle items for variety
            const shuffledItems = [...items].sort(() => Math.random() - 0.5);
            
            shuffledItems.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'item';
                itemElement.draggable = true;
                itemElement.dataset.id = item.id;
                itemElement.dataset.inSea = item.inSea;
                itemElement.innerHTML = `
                    <div class="item-icon">${item.icon}</div>
                    <div class="item-name">${item.name}</div>
                `;
                
                // Drag events
                itemElement.addEventListener('dragstart', handleDragStart);
                itemElement.addEventListener('dragend', handleDragEnd);
                
                // Touch events for mobile
                itemElement.addEventListener('touchstart', handleTouchStart);
                itemElement.addEventListener('touchmove', handleTouchMove);
                itemElement.addEventListener('touchend', handleTouchEnd);
                
                itemsGrid.appendChild(itemElement);
            });

            // Setup drop zones
            setupDropZones();
        }

        function setupDropZones() {
            const zones = [
                document.getElementById('seaZone'),
                document.getElementById('notSeaZone')
            ];

            zones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        // Drag Handlers
        function handleDragStart(e) {
            e.target.classList.add('dragging');
            e.dataTransfer.effectAllowed = 'move';
            e.dataTransfer.setData('text/html', e.target.innerHTML);
            e.dataTransfer.setData('itemId', e.target.dataset.id);
        }

        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            if (e.preventDefault) {
                e.preventDefault();
            }
            e.dataTransfer.dropEffect = 'move';
            e.currentTarget.classList.add('drag-over');
            return false;
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('drag-over');
        }

        function handleDrop(e) {
            if (e.stopPropagation) {
                e.stopPropagation();
            }
            e.currentTarget.classList.remove('drag-over');
            
            const itemId = e.dataTransfer.getData('itemId');
            const draggingElement = document.querySelector(`[data-id="${itemId}"]`);
            
            if (draggingElement && draggingElement.parentElement.classList.contains('items-grid')) {
                const isSeaZone = e.currentTarget.id === 'seaZone';
                placeItem(draggingElement, isSeaZone);
            }
            
            return false;
        }

        // Touch Handlers
        let touchedElement = null;

        function handleTouchStart(e) {
            touchedElement = e.target.closest('.item');
            if (touchedElement) {
                touchedElement.classList.add('dragging');
            }
        }

        function handleTouchMove(e) {
            e.preventDefault();
        }

        function handleTouchEnd(e) {
            if (!touchedElement) return;
            
            const touch = e.changedTouches[0];
            const dropZone = document.elementFromPoint(touch.clientX, touch.clientY)?.closest('.drop-zone');
            
            if (dropZone) {
                const isSeaZone = dropZone.id === 'seaZone';
                placeItem(touchedElement, isSeaZone);
            }
            
            touchedElement.classList.remove('dragging');
            touchedElement = null;
        }

        // Place Item
        function placeItem(element, isSeaZone) {
            const itemId = element.dataset.id;
            const item = items.find(i => i.id == itemId);
            
            const droppedItem = document.createElement('div');
            droppedItem.className = 'dropped-item';
            droppedItem.innerHTML = `
                <div style="font-size: 2em;">${item.icon}</div>
                <div style="font-size: 0.9em; font-weight: bold;">${item.name}</div>
            `;
            
            const targetContainer = isSeaZone ? 
                document.getElementById('seaItems') : 
                document.getElementById('notSeaItems');
            
            targetContainer.appendChild(droppedItem);
            element.remove();
            
            // Record placement
            itemPlacements[itemId] = isSeaZone;
            
            // Play sound (optional)
            playSound('drop');
        }

        // Check Answers
        function checkAnswers() {
            const remainingItems = document.querySelectorAll('.items-grid .item');
            
            if (remainingItems.length > 0) {
                showFeedback('â— ×™×© ×¢×•×“ ×¤×¨×™×˜×™× ×©×œ× ××•×™× ×•!', 'incorrect');
                return;
            }
            
            correctCount = 0;
            incorrectCount = 0;
            
            Object.keys(itemPlacements).forEach(itemId => {
                const item = items.find(i => i.id == itemId);
                const placedInSea = itemPlacements[itemId];
                
                if (item.inSea === placedInSea) {
                    correctCount++;
                } else {
                    incorrectCount++;
                }
            });
            
            document.getElementById('correct').textContent = correctCount;
            document.getElementById('incorrect').textContent = incorrectCount;
            
            if (incorrectCount === 0) {
                showFeedback('ğŸ‰ ×›×œ ×”×›×‘×•×“! ×›×œ ×”×ª×©×•×‘×•×ª × ×›×•× ×•×ª!', 'correct');
                celebrate();
            } else {
                showFeedback(`ğŸ˜Š ×™×¤×”! ${correctCount} × ×›×•× ×•×ª, ${incorrectCount} ×œ× × ×›×•× ×•×ª. × ×¡×• ×©×•×‘!`, 'incorrect');
            }
        }

        // Reset Game
        function resetGame() {
            document.getElementById('seaItems').innerHTML = '';
            document.getElementById('notSeaItems').innerHTML = '';
            correctCount = 0;
            incorrectCount = 0;
            itemPlacements = {};
            document.getElementById('correct').textContent = '0';
            document.getElementById('incorrect').textContent = '0';
            initGame();
        }

        // Show Feedback
        function showFeedback(message, type) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.className = `feedback ${type}`;
            feedback.style.display = 'block';
            
            setTimeout(() => {
                feedback.style.display = 'none';
            }, 3000);
        }

        // Celebration Effect
        function celebrate() {
            const canvas = document.getElementById('celebrationCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            const confetti = [];
            const confettiCount = 150;
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F'];
            
            for (let i = 0; i < confettiCount; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    r: Math.random() * 6 + 4,
                    d: Math.random() * confettiCount,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    tilt: Math.floor(Math.random() * 10) - 10,
                    tiltAngleIncremental: Math.random() * 0.07 + 0.05,
                    tiltAngle: 0
                });
            }
            
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                confetti.forEach((c, index) => {
                    ctx.beginPath();
                    ctx.lineWidth = c.r / 2;
                    ctx.strokeStyle = c.color;
                    ctx.moveTo(c.x + c.tilt + c.r, c.y);
                    ctx.lineTo(c.x + c.tilt, c.y + c.tilt + c.r);
                    ctx.stroke();
                    
                    c.tiltAngle += c.tiltAngleIncremental;
                    c.y += (Math.cos(c.d) + 3 + c.r / 2) / 2;
                    c.tilt = Math.sin(c.tiltAngle - index / 3) * 15;
                    
                    if (c.y > canvas.height) {
                        confetti[index] = {
                            x: Math.random() * canvas.width,
                            y: -10,
                            r: c.r,
                            d: c.d,
                            color: c.color,
                            tilt: c.tilt,
                            tiltAngleIncremental: c.tiltAngleIncremental,
                            tiltAngle: c.tiltAngle
                        };
                    }
                });
                
                requestAnimationFrame(draw);
            }
            
            draw();
            
            setTimeout(() => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }, 5000);
        }

        // Play Sound (optional)
        function playSound(type) {
            // ×”×•×¡×¤×ª ×¦×œ×™×œ×™× ×× ×¨×•×¦×™×
            // const audio = new Audio(`sounds/${type}.mp3`);
            // audio.play().catch(e => console.log('Sound play failed'));
        }

        // Initialize on load
        window.addEventListener('load', initGame);
    </script>
</body>
</html>